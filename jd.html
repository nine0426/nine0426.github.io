<!DOCTYPE html>
<html>

<head>
    <meta charset="utf-8">
    <link href="./img/title.png" rel="icon" type="image/x-ico">
    <link rel="stylesheet" href="./css/style.css">
    <title>订阅链接分享</title>
</head>

<body>
    <button onclick="copyTextToClipboard(https://rss.mofast.buzz/api/v1/client/subscribe?token=5fa63f2eaa46a34bf87543fd0dd0b9eb)">复制链接</button><br>
    <h2><a href="https://nine0426.github.io">返回主页</a></h2>
    <script>
        function fallbackCopyTextToClipboard() {
            // 1.创建一个可选中元素
            let textArea = document.createElement("textarea");
            textArea.value = window.location.href;
            // 2.使用定位，阻止页面滚动
            textArea.style.top = "0";
            textArea.style.left = "0";
            textArea.style.position = "fixed";
            document.body.appendChild(textArea);
            textArea.focus();
            textArea.select();
            try {
                var successful = document.execCommand('copy');
                var msg = successful ? 'successful' : 'unsuccessful';
                console.log('Fallback: Copying text command was ' + msg);
            } catch (err) {
                console.error('Fallback: Oops, unable to copy', err);
            }
            // 3.移除元素
            document.body.removeChild(textArea);
        }
    
        function copyTextToClipboard(text) {
            if (!navigator.clipboard) {
                fallbackCopyTextToClipboard(text);
                return;
            }
            navigator.clipboard.writeText(text).then(function() {
                console.log('Async: Copying to clipboard was successful!');
            }, function(err) {
                console.error('Async: Could not copy text: ', err);
            });
        }
    </script>
</body>
</html>